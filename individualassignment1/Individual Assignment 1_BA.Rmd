---
title: "Individual Assignment 1"
author: "Matt O'Neil"
date: "`r Sys.Date()`"
output: pdf_document
editor_options: 
  markdown: 
    wrap: sentence
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Task 0: Loading the Data

```{r}
load('Assignment1 - crypto_data.RData')
```

**vol_pct_chg**: numeric vector.
Percent change in average USD trading volume for each asset over the comparison window (e.g., last 7 days vs prior 7 days).
Computed as 100 \* (avg_current - avg_prior) / avg_prior.
Positive = volume increased; negative = decreased.

**price_pct_chg**: numeric vector.
Percent change in average USD price for each asset over the same comparison window and formula as above.
Positive = price increased; negative = decreased.

**asset**: character vector.
Human-readable cryptocurrency/crypto-asset names corresponding to each row (e.g., "Bitcoin", "Ethereum").

*Alignment note*: asset[i], price_pct_chg[i], and vol_pct_chg[i] all refer to the same asset.
For example, the first entry in asset corresponds to the first entries in price_pct_chg and vol_pct_chg.

## Task 1: Averages

*Average Price Percentage Change*: The average percent change for each asset, measured week-over-week.

```{r}
average_price_pct_chg <- mean(price_pct_chg)
#display the average price percent change
average_price_pct_chg
```

*Average Trade Volume Percentage Change*: The average percent trade volume change for each asset, measured week-over-week.

```{r}
average_vol_pct_chg <- mean(vol_pct_chg)
#display the average volume percent change
average_vol_pct_chg
```

*Which asset has the highest volume percent change?*

```{r}
#creating a matrix for the data with asset, vol_pct_chg, and price_pct_chg
dat <- matrix(c(asset,
        vol_pct_chg,
        price_pct_chg), 
        nrow = 54, 
        byrow = FALSE)
```


```{r}
#Creating a logical vector to filter for asset with largest vol_pct_chg
#using as.character because each of the fields is a text field
row_filt = dat[,2] != as.character(max(vol_pct_chg))
#Filtering the asset vector for which row has the highest volume percent change.
#display the asset with the highest volume percent change
asset[!row_filt]
```


## TASK 2: Filter function


```{r}
#This function that takes in a vector of records and filters it
#The rows from the input vector which fit the filter criteria will be output.
filter_func <- function(input_vector, records, filt_records){
  filt <- records %in% filt_records
  output_vector <- input_vector[filt]
  return(output_vector)
}
```


```{r}
#Setting a list of assets we own to easily keep handy
my_assets <- c("Bitcoin", "Ethereum", "Solana", "Cardano", "XRP", "Dogecoin")
```


```{r}
#Filtering for price_pct_chg of our owned assets
filtered_price_pct_chg <- filter_func(input_vector = price_pct_chg,
                                      records = asset, 
                                      filt_records = my_assets)
```

```{r}
#Filtering for vol_pct_chg of our owned assets
filtered_vol_pct_chg <- filter_func(input_vector = vol_pct_chg,
                                      records = asset, 
                                      filt_records = my_assets)
```



```{r}
#return the size of the vector for filtered_price_pct_chg
length(filtered_price_pct_chg)
#return the size of the vector for filtered_vol_pct_chg
length(filtered_vol_pct_chg)
```
## TASK 3: Plot


```{r}
#This displays a scatter plot with each point representing one asset
#The vol_pct_chg is on the x axis and the price_pct_chg is on the y axis
plot(x = vol_pct_chg, 
     y = price_pct_chg,
     pch = 20,
     main = "Volume % Change vs Price % Change",
     xlab = "Volume % Change",
     ylab = "Price % Change"
)

#We need to rerun our filter function, this time for asset names
#This ensures that the asset names will be aligned with their values
filtered_names <- filter_func(input_vector = asset,
                                      records = asset, 
                                      filt_records = my_assets)

#We now highlight and label each of our owned assets
#They are identified by their corresponding vol_pct_chg and price_pct_chg
for (i in 1:length(my_assets)){
  points(x = filtered_vol_pct_chg[i],
         y = filtered_price_pct_chg[i],
         pch = 8, col = "blue")
  text(x = filtered_vol_pct_chg[i],
       y = filtered_price_pct_chg[i],
       labels = filtered_names[i],
       col = "gray",
       cex = .9, font = 1.5, pos = 4)
}
```
## Task 4: Summary

We see a slight positive correlation between Volume % Change and Price % Change. Assets that are traded more frequently, generally do see better performance, but there are some outliers on both sides, including one of our owned assets, Solana, which sees a *huge* increase in Volume change, but only a modest shift in price week over week.